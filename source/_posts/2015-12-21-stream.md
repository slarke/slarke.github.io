---
layout: post
title: "Stream rtmp"
category: manual
image: 
tags: [manual, torrent]
---
{% include JB/setup %}

[Источник на английском](https://obsproject.com/forum/resources/how-to-set-up-your-own-private-rtmp-server-using-nginx.50/)

Скачиваем необходимые библиотеки

	sudo apt-get install build-essential libpcre3 libpcre3-dev libssl-dev
Скачиваем nginx

	wget http://nginx.org/download/nginx-1.9.5.tar.gz 

[Последняя версия](http://nginx.org/en/download.html)

Скачиваем rtmp модуль

	wget https://github.com/arut/nginx-rtmp-module/archive/master.zip
Распаковываем

	tar -zxvf nginx-1.9.5.tar.gz
	unzip master.zip
	cd nginx-1.9.5
Собираем

	./configure --with-http_ssl_module --add-module=../nginx-rtmp-module-master
	make
	sudo make install
Запускаем сервер

	sudo /usr/local/nginx/sbin/nginx

тест nginx 
	
	http://localhost

сконфигурируем  /usr/local/nginx/conf/nginx.conf 

	rtmp {
        	server {
                	listen 1935;
                	chunk_size 4096;

                	application live {
                        	live on;
                        	record off;
                	}
        }
	}

[возможные варианты конфигов](https://github.com/arut/nginx-rtmp-module/wiki/Directives)

Перезапустим сервер
	sudo /usr/local/nginx/sbin/nginx -s stop
	sudo /usr/local/nginx/sbin/nginx

Запускаем OBS в настройках указать

	Streaming Service: Custom
	Server: rtmp://<your server ip>/live
 	Play Path/Stream Key: testkey

Проверка потока в vlc

	rtmp://<your server ip>/live/testkey

[Настройка под виндой](http://www.helping-squad.com/nginx-rtmp-configuration-and-possible-solutions/)

Docker nginx?

